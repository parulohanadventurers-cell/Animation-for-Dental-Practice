<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ascending Mastery Bars | Unmatched Experience</title>
    <style>
        :root {
            --bg-color: #050505;
            --gold-primary: #D4AF37;
            --gold-light: #F7E7CE;
            --gold-dark: #8A6E2F;
            --text-gold: #C5A028;
        }

        body,
        html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            background-color: var(--bg-color);
            background: radial-gradient(circle at center, #1b1b1b 0%, #000000 100%);
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            font-family: 'Cinzel', serif;
        }

        .scene-container {
            position: relative;
            width: 500px;
            height: 500px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            opacity: 0;
            /* Loop start state */
        }

        svg {
            width: 300px;
            height: 300px;
            overflow: visible;
            filter: drop-shadow(0 0 10px rgba(212, 175, 55, 0.2));
        }

        /* Definitions */
        .crest-outline {
            stroke: url(#goldGradient);
            stroke-width: 2.5;
            fill: none;
            stroke-linecap: round;
            stroke-linejoin: round;
            stroke-dasharray: 600;
            stroke-dashoffset: 600;
            opacity: 0;
        }

        .bar {
            fill: url(#goldBarGradient);
            rx: 2;
            /* Rounded corners */
        }

        .accent-stroke {
            stroke: url(#highlightGradient);
            stroke-width: 3;
            stroke-linecap: round;
            fill: none;
            opacity: 0;
        }

        .label-text {
            margin-top: 40px;
            font-size: 14px;
            letter-spacing: 0.35em;
            text-transform: uppercase;
            color: var(--text-gold);
            opacity: 0;
            transform: translateY(20px);
            font-weight: 600;
            text-align: center;
            background: linear-gradient(90deg, #8A6E2F, #FFD700, #F7E7CE, #8A6E2F);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-size: 200% auto;
            position: relative;
        }

        /* Shimmer effect removed */
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&display=swap" rel="stylesheet">
</head>

<body>

    <div class="scene-container" id="scene">
        <svg viewBox="0 0 200 200">
            <defs>
                <linearGradient id="goldGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                    <stop offset="0%" stop-color="#996515" />
                    <stop offset="30%" stop-color="#D4AF37" />
                    <stop offset="50%" stop-color="#FFFFE0" />
                    <stop offset="70%" stop-color="#D4AF37" />
                    <stop offset="100%" stop-color="#8A6E2F" />
                </linearGradient>

                <linearGradient id="goldBarGradient" x1="0%" y1="0%" x2="0%" y2="100%">
                    <stop offset="0%" stop-color="#FFD700" />
                    <stop offset="100%" stop-color="#8A6E2F" />
                </linearGradient>

                <linearGradient id="highlightGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                    <stop offset="0%" stop-color="rgba(255,215,0,0)" />
                    <stop offset="50%" stop-color="#FFFACD" />
                    <stop offset="100%" stop-color="rgba(255,215,0,0)" />
                </linearGradient>
            </defs>

            <!-- Shield Shape 
                 Center of ViewBox is 100,100.
                 Shield spans approx X:50-150, Y:20-170.
            -->
            <path id="crest" class="crest-outline" d="M 100 20 
                     L 150 50 
                     L 150 110 
                     Q 150 150 100 170 
                     Q 50 150 50 110 
                     L 50 50 Z" />

            <!-- 4 Vertical Bars 
                 To place them "in the middle of the shield":
                 Shield height center is roughly Y=95.
                 We will position the bars so they occupy the central vertical space.
                 Let's set a Base Line at Y=135 (Previously 150) so they sit higher up.
                 Center X alignment: 65, 85, 105, 125 (unchanged).
            -->
            <!-- Bar 1 -->
            <rect id="bar1" class="bar" x="65" y="135" width="10" height="0" />

            <!-- Bar 2 -->
            <rect id="bar2" class="bar" x="85" y="135" width="10" height="0" />

            <!-- Bar 3 -->
            <rect id="bar3" class="bar" x="105" y="135" width="10" height="0" />

            <!-- Bar 4 -->
            <rect id="bar4" class="bar" x="125" y="135" width="10" height="0" />

            <!-- Accent Stroke -->
            <path id="stroke" class="accent-stroke" d="M 40 100 Q 100 130 160 90" />
        </svg>

        <div class="label-text" id="label">Unmatched Experience</div>
        <!-- Shimmer removed -->
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const scene = document.getElementById('scene');
            const BASE_Y = 135; // Moved up to center bars in shield

            // Adjust heights to ensure they stay well within the shield
            // Max height space from 135 to top(50) is 85px.
            const bars = [
                { el: document.getElementById('bar1'), h: 35 },
                { el: document.getElementById('bar2'), h: 55 },
                { el: document.getElementById('bar3'), h: 80 },
                { el: document.getElementById('bar4'), h: 65 }
            ];
            const crest = document.getElementById('crest');
            const stroke = document.getElementById('stroke');
            const label = document.getElementById('label');
            /* shimmer removed */

            // Setup
            const crestLen = crest.getTotalLength();
            crest.style.strokeDasharray = crestLen;

            const strokeLen = stroke.getTotalLength();
            stroke.style.strokeDasharray = strokeLen;
            stroke.style.strokeDashoffset = strokeLen;

            function playSequence() {
                // RESET
                scene.style.opacity = '1';
                scene.style.transition = 'opacity 1s ease';

                // Reset Bars
                bars.forEach(b => {
                    b.el.style.transition = 'none';
                    b.el.setAttribute('height', '0');
                    b.el.setAttribute('y', BASE_Y);
                });

                // Reset Vectors
                crest.style.transition = 'none';
                crest.style.strokeDashoffset = crestLen;
                crest.style.opacity = '0';

                stroke.style.transition = 'none';
                stroke.style.strokeDashoffset = strokeLen;
                stroke.style.opacity = '0';

                label.style.transition = 'none';
                label.style.opacity = '0';
                label.style.transform = 'translateY(20px)';

                /* shimmer reset removed */

                void scene.offsetWidth; // Reflow

                // 1. Bars Rise
                let delay = 300;
                bars.forEach((b, index) => {
                    setTimeout(() => {
                        b.el.style.transition = 'all 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275)';
                        b.el.setAttribute('height', b.h);
                        b.el.setAttribute('y', BASE_Y - b.h);
                    }, delay);
                    delay += 200;
                });

                // 2. Shield Outlines
                setTimeout(() => {
                    crest.style.transition = 'stroke-dashoffset 2s ease-in-out, opacity 0.5s ease';
                    crest.style.opacity = '1';
                    crest.style.strokeDashoffset = '0';
                }, 1200);

                // 3. Gold Stroke
                setTimeout(() => {
                    stroke.style.transition = 'stroke-dashoffset 1.5s ease-in-out, opacity 0.5s ease';
                    stroke.style.opacity = '1';
                    stroke.style.strokeDashoffset = '0';
                }, 2500);

                // 4. Label & Shimmer
                setTimeout(() => {
                    label.style.transition = 'opacity 1s ease, transform 1s ease';
                    label.style.opacity = '1';
                    label.style.transform = 'translateY(0)';

                    label.animate([
                        { backgroundPosition: '200% center' },
                        { backgroundPosition: '-200% center' }
                    ], {
                        duration: 4000,
                        iterations: Infinity,
                        easing: 'linear'
                    });

                    /* shimmer animation removed */
                }, 3200);

                // 5. Loop Transition
                setTimeout(() => {
                    scene.style.opacity = '0';
                }, 7500);

                setTimeout(() => {
                    playSequence();
                }, 8500);
            }

            setTimeout(playSequence, 100);
        });
    </script>
</body>

</html>